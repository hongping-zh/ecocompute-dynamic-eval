# EcoCompute Dynamic Eval - 工作备忘录

**日期**: 2026年2月5日  
**状态**: 开发完成，待上线

---

## 今日完成 ✅

### 1. 代码审查与修复
- [x] 修复 Gemini API 模型名称 (`gemini-3-flash-preview` → `gemini-2.0-flash`)
- [x] 修复环境变量访问方式 (`process.env` → `import.meta.env.VITE_API_KEY`)
- [x] 修复 AudioMonitor 硬编码统计值 → 动态计算 Peak/Avg/Cost
- [x] 修复 Live Eval 按钮颜色（红色 → 绿色）

### 2. 新功能：多 API 设置面板
- [x] 创建 `components/SettingsPanel.tsx`
- [x] 支持 4 种 API 提供商：Demo / Gemini / OpenAI / Groq
- [x] API Key 本地存储（localStorage）
- [x] 美观的卡片式 UI

### 3. 部署配置
- [x] 配置 `vite.config.ts` base 路径 (`/ecocompute-dynamic-eval/`)
- [x] 创建 `index.css` 动画样式
- [x] 创建 `.github/workflows/deploy.yml` GitHub Actions 配置
- [x] 生产构建测试通过

### 4. Git 版本控制
- [x] Git 初始化
- [x] 首次提交完成
- [ ] 推送到 GitHub（网络问题，明天继续）

---

## 明日待办 📋

### 1. 推送上线
```bash
cd C:\Users\14593\Downloads\ecocompute-dynamic-eval
git push -u origin main
```

### 2. 启用 GitHub Pages
- Settings → Pages → Source: GitHub Actions
- 等待部署完成
- 验证: https://hongping-zh.github.io/ecocompute-dynamic-eval/

### 3. 整合 RTX 5090 实测数据 ⭐ 重要
**数据来源**: `C:\Users\14593\CascadeProjects\ecocompute_script\`
- `data/rtx5090_benchmark_results.csv`
- `RTX5090_Energy_Benchmark_Report_EN.md`

**实测数据摘要**:
| 模型 | 参数量 | FP16 能耗 (J/1k tok) | 4-bit 能耗 | 变化 |
|------|--------|---------------------|------------|------|
| TinyLlama | 1.1B | 1659 | 2098 | -26.5% (更差) |
| Qwen2 | 1.5B | 2411 | 3120 | -29.4% (更差) |
| Qwen2.5 | 3B | 3383 | 3780 | -11.7% (更差) |
| Qwen2 | 7B | 5509 | 4878 | +11.4% (更好) |

**核心发现**: 4-bit 量化只有在 >5B 参数的模型上才能节省能源

**整合任务**:
- [ ] 替换 `constants.ts` 中的模拟数据
- [ ] 添加数据来源标注 "Benchmarked on RTX 5090 (Blackwell)"
- [ ] 增加 FP16 vs 4-bit 对比视图

### 4. 域名 + SEO 策略决策
**选项**:
- A: GitHub Pages (免费，快速)
- B: 商业域名 + Vercel/Netlify (SEO 更好，长期流量)

**推荐域名**:
- `ecocompute.ai`
- `ecocompute.io`

### 5. 宣传方案
- Twitter/X 发布
- LinkedIn 长文
- Reddit (r/MachineLearning, r/sustainability)
- Hacker News (Show HN)
- Product Hunt

---

## 项目文件结构

```
ecocompute-dynamic-eval/
├── .github/workflows/deploy.yml  # GitHub Actions 部署
├── components/
│   ├── AudioMonitor.tsx          # 实时监控图表
│   ├── Calculator.tsx            # 碳足迹计算器
│   ├── Leaderboard.tsx           # 模型排行榜
│   └── SettingsPanel.tsx         # API 设置面板 (新增)
├── services/
│   └── geminiService.ts          # 多 API 支持 (更新)
├── App.tsx                       # 主应用
├── constants.ts                  # 模型数据 (待整合实测数据)
├── types.ts                      # TypeScript 类型
├── index.css                     # 动画样式 (新增)
├── vite.config.ts                # Vite 配置 (更新 base 路径)
└── package.json
```

---

## 关键洞察

### 用户价值主张
> "在 AI 选型时，不只看准确率，还要看成本和碳足迹"

### 目标用户
1. **企业老板**: ESG 报告、成本控制、合规要求
2. **科研人员**: 论文碳足迹声明、方法对比、资源申请

### 差异化优势
- 真实 RTX 5090 实测数据（非模拟）
- 反直觉发现：小模型量化反而更耗能
- 多 API 支持，用户可自带 Key

---

*备忘录创建时间: 2026-02-05 20:12*
